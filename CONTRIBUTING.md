# כיצד לתרום למדריך

מדריך זה בשלביו הראשונים.
על כן, כל תרומה,
בין אם היא ביקורת בונה או כתיבת חלקים שלמים במדריך,
היא מבורכת.

המדריך משתמש ב-`mdbook`,
פלטפורמה הכתובה מעל Rust
המאפשרת יצירה של ספרים מקבצי Markdown.
את קבצי ה-Markdown השונים
אנו מאחסנים ב-Git Repository
הזמין לכל באתר GitHub.


## סגנון כתיבה

המדריך כתוב בעברית
(למעט קטעי קוד,
הערות בקוד,
או שמות קבצים)
רצוי שזו תהיה עברית תקנית לכל הפחות,
אך שימוש בסלנג פה ושם בהחלט מותר
במידה והוא עוזר להעביר את הנקודה
בצורה יותר חלקה.

### שבירת שורות סמנטית

המדריך כתוב בעזרת
[**שבירות שורה סמנטיות**](https://sembr.org/), 
המאפשרות לזהות בקלות שגיאות תחביריות
ולמצוא מקומות בהם ניתן לשפר ולבאר טקסט
מבלי לפגוע בכוונה המקורית שלו
ובחוויית הקריאה של צורכי המדריך.
כמו כן, שבירות שורה סמנטיות משתלבות היטב
עם מערכות ניהול תצורה כגון git.

**כלל אצבע:**
מומלץ לשבור שורה אחרי פסיק, נקודה,
כל סימן פיסוק אחר המסיים משפט,
משפטים במרכאות (לא מילים בודדות),
או פריטים חדשים ברשימה ארוכה.

### סידור מסמכים

המדריך כתוב בעזרת קבצי md.
הקבצים נמצאים בתיקיית `src` ומחולקים לתיקיות כך:

- `afx` - דפים במדריך בחלק הרלוונטי ל-after effects
- `ass` - דפים במדריך בחלק הרלוונטי ל-aegisub
- `images` - המקום בו כלל התמונות בשימוש על ידי המדריך מאוחסנות.

### עבודה עם Markdown ו-RTL

TODO

### תמונות וסרטונים

על כל תמונה שמתווספת למדריך
להיות בפורמט png,
לאחר דחיסה משמרת פרטים (lossless)
בעזרת
[pingo](https://css-ig.net/pingo).

בהנחה ש-pingo ב-PATH שלכם,
תוכלו לכווץ כל תמונה בעזרת הרצת הפקודה:
```sh
$ pingo -l -s4 yourimage.png
```

שימו לב שהתמונות נמצאות ב-`src/images`
ושיש להן שמות הגיוניים.

[TODO: הוספת מדיניות ברורה לגבי סרטונים.
לדעתי כדאי שהסרטונים ישבו ב-YouTube
עם גיבוי שלהם אצל אחד מהמתחזקים.]

## חלקים חסרים

כרגע, כל החלקים המופיעים בצבע אפור בתוכן העניינים
הינם חסרים.
למידע נוסף על החלקים החסרים בספר,
אתם מוזמנים לעיין
ב-[Issue](https://github.com/cN3rd/typesetting-book/issues/1)
הרלוונטי באתר Github.


## איך עובדים על המדריך

העבודה על המדריך מתבצעת בתצורת GitHub Flow.
בצורת עבודה זו,
כל שינוי משמעותי מתחיל ביצירת branch,
הוספה של קומיטים המכילים את השינויים בפועל,
סנכרון מול ה-repo הראשי,,
העלאת ה-branch ל-fork שלכם,
יצירת pull request רלוונטי ל-repo הראשי מה-branch,
טיפול בפידבק העולה ב-review,
ולבסוף, בהכנסת השינויים שלכם למדריך
על ידי אחד מהמתחזקים.
לפירוט נוסף ומעמיק בהרבה על GitHub Flow,
אתם מוזמנים לעיין
[בדף הרלוונטי באתר GitHub](https://docs.github.com/en/get-started/using-github/github-flow).

### עבודה עם Git

אנו מניחים כי עבדתם עם Git ו-Github בעבר.
אם זוהי הפעם הראשונה שלכם,
ישנם אינספור מקורות לימוד על git,
הן בעברית והן באנגלית:

- **בעברית**,
  [סדרת המאמרים של רן בר-זיק על Git](https://internet-israel.com/category/%D7%9E%D7%93%D7%A8%D7%99%D7%9B%D7%99%D7%9D/git/).
  המאמרים השונים בונים זה על זה וכדאי לקרוא אותם לפי תאריך הפרסום שלהם.

- **באנגלית**,
  כדאי להתחיל מקריאה של 
  [Git - the simple guide](https://rogerdudler.github.io/git-guide/)
  המכיל פסקאות קצרות ופשוטות המתארות כיצד לעבוד עם git.
  לאחר מכן, מומלץ להתעמק בקריאה ולעבור על
  [Pro Git](https://git-scm.com/book/en/v2)
  הזמין לקריאה בחינם.

- בלי קשר למקורות אלו, מומלץ לתרגל את העקרונות השונים בעזרת
  [Learn Git Branching](https://learngitbranching.js.org/)
  המצויין.

משום שהעבודה עם המדריך נעשית ב-GitHub,
מומלץ [ליצור חשבון באתר](https://github.com/signup)
ו[להגדיר ssh-key עבור המחשב עליו אתם עובדים](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent).

### התקנה של mdbook
נכון לעדכון האחרון של מסמך זה,
אנו משתמשים בגרסא 0.4.37 של `mdbook` לבניית המדריך.
אתם יכולים להוריד את `mdbook`
דרך מנהל החבילות שלכם
(למשל, `scoop` בחלונות,
`apt-get` באובונטו,
`pacman` בארץ' לינוקס וכו').
למשל, אם אתם משתמשים ב-scoop
(מומלץ מאוד):
```sh
scoop install mdbook@0.4.35
```

לחילופין, אם אתם מפתחי rust
ויש לכם את ה-rust toolchain מותקן על המחשב:
```sh
cargo install mdbook --version 0.4.35
```

דרך אחרת (ופחות מומלצת) היא להוריד
את mdbook
[מהשחרורים הרשמיים ב-Github](https://github.com/rust-lang/mdBook/releases/tag/v0.4.35)
ולשים את קובץ ה-exe הרלוונטי
בתיקייה שנמצאת ב-`PATH` שלכם.

כדי לוודא את ההתקנה שלכם
פתחו חלון Command line, Terminal או Git Bash
והריצו את `mdbook --version`. 
הפלט שלכם אמור להיראות ככה:

```sh
$ mdbook --version
mdbook v0.4.35
```

### יצירת fork
כדי לפתוח ולדחוף branches חדשים,
עליכם ליצור עותק של ה-repository ששייך לכם.
כדי לעשות זאת,
[לכו לעמוד ה-github הראשי של המדריך](https://github.com/cN3rd/typesetting-book)
ולחצו על fork.
אתם תופנו אוטומטית ל-fork,
ותוכלו להתחיל לעבוד מולו.

לאחר מכן, מומלץ לשכפל (clone)
את ה-fork אל המחשב בו אתם עובדים.

פתחו את git bash או כל command line אחר, והקלידו:
```sh
git clone git@github.com:[username]/typesetting-book.git
```
החליפו את `[username]` בשם המשתמש שיצרתם ב-github.

לאחר שעשיתם את זה, תוכלו לעבוד עם ה-repository
כפי שתרצו על המחשב שלכם.

לאחר מכן, מומלץ להגדיר remote נוסף בשם upstream, כך:
```
git remote add upstream git@github.com:cN3rd/typesetting-book.git
```

### בניית עותק מקומי של המדריך
אחרי שיצרתם עותק של ה-repository
תוכלו לבנות עותק מתעדכן של המדריך בעזרת הפקודה הבאה:
```
$ mdbook serve
```
העותק יהיה זמין בכתובת
`http://localhost:3000`.

כל שינוי שיעשה בקבצי ה-Markdown בתיקיית ה-`src`
ירענן את הדפדפן ויעדכן את המדריך אוטומטית.

### עבודה עם mdbook

ליצירת דפים חדשים במדריך,
עליכם להוסיף קישור למסמך ה-markdown
בקובץ `SUMMARY.md`.
שימו לב שהכותרת תופיע בתוכן העניינים בצד,
אז כדאי לשמור עליה תמציתית ולעניין.

מומלץ ליצור דפים חדשים לפי תוכן העניינים הקיים.
למשל, אם תרצו להוסיף את הדף על
"יצירה ועריכת Styles"
אז תצטרכו ליצור קובץ markdown חדש בתיקיית `src`
(נניח `ass/styles.md`)
ולעדכן את הרשומה הרלוונטית בתוכן העניינים
כך שהיא תכיל את הקישור אליו.
כלומר, לשנות את הכיתוב:
```md
- [יצירה ועריכת Styles]()
```
ל:
```md
- [יצירה ועריכת Styles](ass/styles.md)
```

למידע נוסף על עבודה עם mdbook,
[ראו את הספר הרשמי של mdbook](https://rust-lang.github.io/mdBook/).

### עדכון העותק המקומי של המדריך
מומלץ להסתנכרן עם המדריך בתחילת העבודה על שינוי גדול
ולקראת פתיחת ה-pull request.

כדי לסנכרן את המדריך, הריצו את הפקודות הבאות:
```sh
git checkout main
git pull upstream master
git checkout [your-branch]
git rebase main
```

אנו מעדיפים לעשות **rebase**,
**לא merge**,
שכן פעולת ה-merge
מוסיפה קומיטים בעייתיים
ומסבכת את ההיסטוריה של ה-repository.
